
function validacion() {
    console.log("comprobando la validación")
    if (nombre.value.trim() == "") {
        alert('Por favor, escribe tu nombre');
        nombre.focus();
        return false;
    } 
    console.log("comprobado el nombre")
    if (direccion.value.trim() == "") {
        alert('Por favor, escribe tu dirección');
        direccion.focus();
        return false;
    }
    console.log("comprobada la dirección")
    if (telefono.value.trim() == "") {
        alert('Por favor, escribe tu teléfono');
        telefono.focus();
        return false;
    }
    console.log("comprobado el teléfono")
    if (email.value.trim() == "") {
        alert('Por favor, escribe tu e-mail');
        direccion.focus();
        return false;
    }
    console.log("comprobado e-mail")

    tamano = document.getElementsByName("tamano");
            var seleccionado = false;
            for(var i=0; i<tamano.length; i++) {
                if(tamano[i].checked) {
                    seleccionado = true;
                    break;
                }
            }
            if(!seleccionado) {
                alert('Debes seleccionar un tamaño para tu pizza');
                return false;
            }
    console.log("comprobado tamaño")

    if(!bacon.checked && !cebolla.checked && !peperoni.checked && !champinon.checked) {
        alert ("debes elegir al menos un ingrediente")
        return false
    }
    console.log("comprobados los ingredientes")  
    
    alert("el precio de tu pizza es " + calcularPrecioPizza()+ "€. Ya va en camino");
}

function calcularPrecioPizza () {
    let listadoPrecios={"pequeña" : 5, "mediana" : 10, "grande": 15}
    var precioPizzaSeleccionado = 0;
    tamano = document.getElementsByName("tamano");
    for(var i=0; i<tamano.length; i++) {
        if(tamano[i].checked) {
            precioPizzaSeleccionado=listadoPrecios[tamano[i].value] 
            break;
        }     
    }
    ingredientes=document.getElementsByClassName("ingredientes")
    for(var i=0; i<ingredientes.length; i++){
        if(ingredientes[i].checked) {
            precioPizzaSeleccionado++;
        }
    }
    return precioPizzaSeleccionado;
}

window.onload = function(){
    formulario_pizza.onsubmit = validacion;                                    
}
